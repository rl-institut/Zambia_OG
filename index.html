<!Doctype html>
<html lang="en">
<head>
    <meta charset=utf-8 />
    <title>Zambia Map</title>

    <!-- font awesome offers symbols/icons. used e.g. as symbols for the tabs on the sidebar -->
    <!--link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous" />
    <!-- Stylesheet for Leaflet icons, fonts etc -->
    <link href="css/all.css" rel="stylesheet">
    <link rel="stylesheet" href="css/leaflet.css"/>
    <link rel="stylesheet" href="css/leaflet.measure.css" />
    <link rel="stylesheet" href="css/leaflet-sidebar.min.css" />


    <!-- Stylesheet for nouislider -->
    <link rel="stylesheet" href="css/nouislider.min.css" />
    <link rel="stylesheet" href="css/MarkerCluster.css"/>
    <link rel="stylesheet" href="css/MarkerCluster.Default.css"/>

    <!-- Stylesheet defines map extent -->
    <link rel="stylesheet" href="css/styles.css"/>

</head>

<body>
<div id="map"></div>
<div id="sidebar" class="leaflet-sidebar">
    <div class="leaflet-sidebar-tabs">
        <ul role="tablist">
            <li><a href="#home" role="tab"><i class="fa fa-bars"></i></a></li>
            <li><a href="#layers" role="tab"><i class="fa fa-layer-group"></i></a></li>
            <li><a href="#download" role="tab"><i class="fa fa-arrow-circle-down"></i></a></li>
            <li><a href="#about" role="tab"><i class="fa fa-question-circle"></i></a></li>
        </ul>
    </div>

    <div class="leaflet-sidebar-content">

        <div class="leaflet-sidebar-pane active" id="home">
            <h1 class="leaflet-sidebar-header">
                Zambia Electrification Map
                <div class="leaflet-sidebar-close">
                    <i class="fa fa-times"></i>
                </div>
            </h1>
            <p class="paragraph"> This tool was developed to support private and public actors in Zambia to quickly and accurately prioritize villages by their potential for off-grid electrification, based on information such as population density, distance to grid, solar resource and others. </p>
        </div>

        <div class="leaflet-sidebar-pane" id="layers">
            <h1 class="leaflet-sidebar-header">Layers<span class="leaflet-sidebar-close"><i class="fa fa-caret-left"></i></span></h1>
            <h2 class="sidebar_h2">  Select Basemap Layer </h2>

                <div class="minimap">
                    <img class="minimap__img" id="aerial_preview" src="https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/6/34/36.png" onclick="SelectBasemap('Esri Aerial')" />
                    <p class="minimap__legend"> Aerial Images (Esri) </p>
                </div>
                <br>
                <div class="minimap">
                    <img class="minimap__img" id="osm_preview" src="https://a.tile.openstreetmap.de/tiles/osmde/6/36/34.png" onclick="SelectBasemap('OpenStreetMap')"/>
                    <p class="minimap__legend"> OpenStreetMap </p>
                </div>
                <br>
                <div class="minimap">
                    <img class="minimap__img" id="topo_preview" src="https://a.tile.opentopomap.org/6/36/34.png" onclick="SelectBasemap('OpenTopoMap')"/>
                    <p class="minimap__legend">OpenTopoMap </p>
                </div>
                <br>

            <h2 class="sidebar_h2"> Select Raster Overlays</h2>
                <div class="togglebutton">
                    <label class="switch">
                        <input name="" type="checkbox" onclick="toggleGHI()" id="toggle_ghi"/>
                        <span class="slider"></span>
                    </label> 
                    <p class="togglebutton__p"> Solar Irradiation</p>
                </div>
            <h2 class="sidebar_h2"> Select Overlay Information </h2>
                <div class="togglebutton">
                    <label class="switch">
                        <input checked type="checkbox" onclick="toggleVecTileLayer()" id="toggle_vl"/>
                        <span class="slider"></span>
                    </label> 
                    <p class="togglebutton__p"> Clusters</p>
                </div>
                <div class="togglebutton">
                    <label class="switch">
                        <input type="checkbox" name="togglebutton" onclick="toggleBorders()" id="Borders"/>
                        <span class="slider"></span>
                    </label> 
                    <p class="togglebutton__p"> Borders</p>
                </div>
                <div class="togglebutton">
                    <label class="switch">
                        <input checked type="checkbox" name="togglebutton" onclick="toggleBorders()" id="Cluster Accumulations"/>
                        <span class="slider"></span>
                    </label> 
                    <p class="togglebutton__p"> Cluster Accumulations</p>
                </div>
                    <br>
            <h3 class="sidebar_h3">
                <i class="fa fa-filter" style="font-size:16px"></i>Filters
            </h3>
            <h2 class="sidebar_h2"> Mobile Coverage</h2>
                <div class="dropdown" id="cellcoverage">
                    <form class="dropdown__form">
                        <select class="dropdown__select" id="selectcellcoverage" onChange="cellfilter()">
                            <option value="nofilter">Show all</option>
                            <option value= "1"> ✓ Has Mobile Coverage</option>
                            <option value= "0"> ✕ No Info on Mobile Coverage</option>
                        </select>
                    </form>
                </div>
               <br>
           <h2 class="sidebar_h2">Buildings</h2>
                <div class="filter">
                    <div class="filter__slider" id="sliderbuild"></div> <br>
                    <div class="filter__input">
                        <input type="number" id="input-with-keypress-0" name="range" />
                        <input type="number" id="input-with-keypress-1" name="range" />
                    </div>
                </div>

           <h2 class="sidebar_h2">Building Density</h2>
                <div class="filter">
                    <div class="filter__slider" id="sliderbdens"></div> <br>
                    <div class="filter__input">
                        <input type="number" id="input-with-keypress-2" name="range" />
                        <input type="number" id="input-with-keypress-3" name="range" />
                    </div>
                </div>

           <h2 class="sidebar_h2">Distance to Grid (m)</h2>
                <div class="filter">
                    <div class="filter__slider" id="sliderdist"></div> <br>
                    <div class="filter__input">
                        <input type="number" id="input-with-keypress-4" name="range" />
                        <input type="number" id="input-with-keypress-5" name="range" />
                    </div>
                </div>

           <h2 class="sidebar_h2">Area (km²)</h2>
                <div class="filter">
                    <div id="sliderarea"></div> <br>
                    <div class="filter__input">
                        <input type="number" id="input-with-keypress-6" name="range" step="0.02"/>
                        <input type="number" id="input-with-keypress-7" name="range" step="0.02"/>
                   </div>
               </div>
           </div>

        <div class="leaflet-sidebar-pane" id="download">
            <h1 class="leaflet-sidebar-header">
                Download
                <div class="leaflet-sidebar-close"><i class="fa fa-caret-left"></i></div>
            </h1>
            <p class="paragraph"> You may download the data behind this map:</p>
            <p class="paragraph"> Cluster points with metadata <a href="data/centroids.geojson" target="_blank" download> ⇩download</a>.</p>
            <p class="paragraph"> Cluster shapes with metadata <a href="data/clusters.geojson" target="_blank" download >⇩download</a>.</p>
            <p class="paragraph"> Borders shapes with metadata <a href="data/provinces.geojson" target="_blank" download> ⇩download</a>.</p>
            <p class="paragraph"> Solar resource data obtained from the Global Solar Atlas, owned by the World Bank Group and provided by Solargis. Raster data for the solar irradiation layer specificly were taken from  <a href="http://globalsolaratlas.info/downloads/zambia" target="_blank">↪here</a>. Their Data are made available for reuse under CC-BY-license. A copyright notice is available <a href="http://globalsolaratlas.info/copyright" target="_blank">↪here</a>.</p>
        </div>

        <div class="leaflet-sidebar-pane" id="about">
            <h1 class="leaflet-sidebar-header">
                 About the map
                <div class="leaflet-sidebar-close"><i class="fa fa-caret-left"></i></div>
            </h1>
            <p class="paragraph">Source code for this web map can be found <a href="https://github.com/rl-institut/Zambia_OG" target="_blank">here</a>.</p>
            <p class="license"><a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png" /></a><br />This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>.</p>
        </div>



    </div>
</div>

    <!--Leaflet - JS-library for slippy maps -->
    <script src="javascript/leaflet.js"></script>
    <!--jquery - enables loading a GeoJson from a file directly into Leaflet -->
    <script src="javascript/jquery.min.js"></script>
    <!--enables loading vectortiles -->
    <script src="javascript/Leaflet.VectorGrid.bundled.js"></script>
    <!--enables pretty checkboxes and advanced slider functions -->
    <script src="javascript/nouislider.min.js"></script>
    <!--enables the leaflet-sidebar -->
    <script src="javascript/leaflet-sidebar.min.js"></script>
    <!--enables the measure tool -->
    <script src="javascript/leaflet.measure.js""></script>

    <!--clusters -->
    <script src="javascript/leaflet.markercluster-src.js"></script>
    <!--Points for clustering purposes
    <script src="data/points.js"></script> -->

    <!--importing js-files with geojson inside. this approach is chosen, since loading geojson-files directly into a variable can be problematic  -->
    <!--variable centroids with points for all clusters -->
    <script src="data/centroids.js" type="text/javascript"></script>
    <!--provinces.js contains a javascript variable named "provinces" with all geojson objects inside -->
    <script src="data/sampledata_provinces.js" type="text/javascript"></script>
    <!--nouislider enables better looking checkboxes and more functional sliders -->
    <!--functionalities specific to this map -->
    <script src="javascript/main.js"></script>

</body>
</html>
